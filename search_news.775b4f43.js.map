{"version":3,"sources":["js_simak_10-2/NewsApi.js","js_simak_10-2/components/LoadMoreBtn.js","js_simak_10-2/search_news.js"],"names":["ENDPOINT","API_KEY","NewsApi","_classCallCheck","queryPage","serchQuery","_createClass","key","value","_this","url","concat","fetch","headers","then","res","json","data","incrementPage","exports","default","LoadMoreBtn","selector","isHidden","arguments","length","undefined","button","getButton","hide","document","querySelector","disabled","textContent","classList","add","remove","_NewsApi","_interopRequireDefault","require","_LoadMoreBtn","obj","__esModule","form","getElementById","loadMoreBtn","addEventListener","onSubmit","fetchNews","newsApi","e","preventDefault","currentTarget","elements","news","trim","clearNewsList","resetPage","show","finally","reset","getNews","_ref","articles","Error","reduce","markup","article","createMarkup","updateNewsList","catch","onError","_ref2","author","title","description","urlToImage","insertAdjacentHTML","innerHTML","err","console","error"],"mappings":"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","file":"search_news.775b4f43.js","sourceRoot":"../src","sourcesContent":["const ENDPOINT = 'https://newsapi.org/v2/everything';\nconst API_KEY = 'af0e766a1ccf475588965f28a4346fe4';\n\n// \"dd82ff3604224bf1b224da3ef75c9135\" - ipy Key from Simaka;\n// \"af0e766a1ccf475588965f28a4346fe4\" - ipy Key from Leo;\n// \"4330ebfabc654a6992c2aa792f3173a3\" - ipy Key from Repeta.\n\nexport default class NewsApi {\n    constructor() {\n        this.queryPage = 1;\n        this.serchQuery = '';\n    }\n\n    getNews() { \n    const url = `${ENDPOINT}?q=${this.serchQuery}&pageSize=5&page=${this.queryPage}`;\n    const options = {\n        headers: {\n            \"X-Api-Key\": API_KEY,\n            },\n        };\n    return fetch(url, options)\n        .then(res => res.json())\n        .then(data => {\n            this.incrementPage();\n            return data;\n        });\n    }\n\n    resetPage() {\n        this.queryPage = 1;\n    }\n\n    incrementPage() {\n        this.queryPage += 1;\n    }\n}\n\n\n\n\n\n","export default class LoadMoreBtn {\n    constructor(selector, isHidden = true) {\n        this.button = this.getButton(selector);\n\n        if (isHidden) this.hide();\n    }\n\n    getButton() {\n        return document.querySelector(selector);\n    }\n\n    enable() {\n        this.button.disabled = false;\n        this.button.textContent = \"Load More\";\n    }\n\n    disable() {\n        this.button.disabled = true;\n        this.button.textContent = \"Loading...\";\n    }\n\n    hide() {\n        this.button.classList.add('hidden');\n    }\n\n    show() {\n        this.button.classList.remove('hidden');\n    }\n}","//! Видео - 0:17:45...0:00:00\n\n// Импортируе класс из внешнего файла. \nimport NewsApi from './NewsApi';\nimport LoadMoreBtn from './components/LoadMoreBtn';\n\n// Создаем переменную-ссылку на тег-<form>\nconst form = document.getElementById('form');\n\n// Создаем новый экземпляр класса.\nconst loadMoreBtn = new LoadMoreBtn('#loadMoreBtn');\n\n// Вешаем слушатель на форму по регистрации события \"submit\".\nform.addEventListener('submit', onSubmit);\n\n// Вешаем слушатель на кнопку \"Load more\" по регистрации события \"click\".\nloadMoreBtn.button.addEventListener('click', fetchNews);\n\n// Создаем экземпляр класса.\nconst newsApi = new NewsApi();\n\n\nfunction onSubmit(e) {\n    e.preventDefault();\n\n    const form = e.currentTarget;\n    newsApi.serchQuery = form.elements.news.value.trim();\n    clearNewsList();\n\n    newsApi.resetPage();\n    loadMoreBtn.show();\n    fetchNews().finally(() => form.reset());\n}\n\nfunction fetchNews() {\n    newsApi.getNews().then(({ articles }) => {\n    \n        if (articles.length === 0) throw new Error('No data');\n\n        return articles.reduce((markup, article) => createMarkup(article) + markup, '');\n    })\n        .then(updateNewsList)\n        .catch(onError);\n}\n\nfunction createMarkup({ author, title, description, url, urlToImage }) {\n    return `\n    <div class=\"aricle-card\">\n        <img src=\"${urlToImage}\" class=\"article-img\">\n        <h2 class=\"aricle-title\">${title}</h2>\n        <h3 class=\"aricle-author\">${author || 'Anonym'}</h3>\n        <p class=\"article-description\">${description}</p>\n        <a href=\"${url}\" class=\"article-link\" target=\"_blank\">Read more</a>\n    </div>\n    `;\n}\n\nfunction updateNewsList(markup) {\n    document.getElementById('articlesWrapper').insertAdjacentHTML('beforeend', markup);\n}\n\nfunction clearNewsList() { \n    document.getElementById('articlesWrapper').innerHTML = '';\n}\n\nfunction onError(err) {\n    console.error(err);\n    updateNewsList('<h1>Articles not foude</h1>')\n}\n\n// Остановился на - 1:34:45, возникла ошибка и все сломалось...\n"]}