{"version":3,"sources":["js_simak_10-1/api.js","js_simak_10-1/search_news.js"],"names":["ENDPOINT","API_KEY","getNews","query","fetch","concat","then","res","json","_default","exports","default","_api","_interopRequireDefault","require","obj","__esModule","form","document","getElementById","onSubmit","e","preventDefault","currentTarget","inputValue","elements","news","value","API","_ref","articles","length","Error","reduce","markup","article","createMarkup","updateNewsList","catch","onError","finally","reset","_ref2","author","title","description","url","urlToImage","innerHTML","err","console","error","addEventListener"],"mappings":";AAQwB,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EARxB,IAAMA,EAAW,oCACXC,EAAU,mCAEhB,SAASC,EAAQC,GACb,OAAOC,MAAKC,GAAAA,OAAIL,EAAQK,YAAAA,OAAWJ,EAAOI,OAAAA,OAAMF,IAC3CG,KAAK,SAAAC,GAAG,OAAIA,EAAIC,SACxB,IAAAC,EAEc,CAACP,QAAAA,GAAQQ,QAAAC,QAAAF;;ACkDxB,aAvDA,IAAAG,EAAAC,EAAAC,QAAA,UAAwB,SAAAD,EAAAE,GAAAA,OAAAA,GAAAA,EAAAC,WAAAD,EAAAJ,CAAAA,QAAAI,GAWxB,IAAME,EAAOC,SAASC,eAAe,QAKrC,SAASC,EAASC,GACdA,EAAEC,iBAEF,IAAML,EAAOI,EAAEE,cACTC,EAAaP,EAAKQ,SAASC,KAAKC,MAEtCC,EAAG,QAAC1B,QAAQsB,GAAYlB,KAAK,SAAAuB,GAAkB,IAAfC,EAAQD,EAARC,SAChC,GAAwB,IAApBA,EAASC,OACL,MAAM,IAAIC,MAAM,WAKpB,OAAOF,EAASG,OAAO,SAACC,EAAQC,GAAO,OAAKC,EAAaD,GAAWD,GAAQ,MAE3E5B,KAAK+B,GACLC,MAAMC,GACNC,QAAQ,WAAA,OAAMvB,EAAKwB,UAG5B,SAASL,EAAYM,GAAkD,IAA/CC,EAAMD,EAANC,OAAQC,EAAKF,EAALE,MAAOC,EAAWH,EAAXG,YAAaC,EAAGJ,EAAHI,IAAKC,EAAUL,EAAVK,WACrD,MAAA1C,qEAAAA,OAE+BuC,EAAKvC,6CAAAA,OACJsC,GAAU,SAAQtC,6BAAAA,OAClC0C,EAAU1C,mEAAAA,OACWwC,EAAWxC,2BAAAA,OACjCyC,EAAG,0EAKtB,SAAST,EAAeH,GACpBhB,SAASC,eAAe,mBAAmB6B,UAAYd,EAG3D,SAASK,EAAQU,GACbC,QAAQC,MAAMF,GACdZ,EAAe,+BAxCnBpB,EAAKmC,iBAAiB,SAAUhC","file":"search_news.48a1db4d.js","sourceRoot":"../src","sourcesContent":["const ENDPOINT = 'https://newsapi.org/v2/everything';\nconst API_KEY = 'dd82ff3604224bf1b224da3ef75c9135';\n\nfunction getNews(query) { \n    return fetch(`${ENDPOINT}?apiKey=${API_KEY}&q=${query}`)\n        .then(res => res.json());\n}\n\nexport default {getNews};","//! Видео - 0:37:20...0:00:00\n\n// Подключаем объект из внешнего файла. \nimport API from './api';\n\n\n//! Проверяем как срабатывает подключаемая из файла \"api.js\" функция.\n// API.getNews('js').then(console.log); //!!!\n\n//! Проводим деструкторизацию получаемого от сервиса объекта и \"вытягиваем\" из него только одно свойство - \"articles\".\n// API.getNews('js').then(({articles}) => console.log(articles)); //!!!\n\n\n// Создаем переменную-ссылку на тег-<form>\nconst form = document.getElementById('form');\n\n// Вешаем слушатель на форму по регистрации события \"submit\".\nform.addEventListener('submit', onSubmit);\n\nfunction onSubmit(e) {\n    e.preventDefault();\n\n    const form = e.currentTarget;\n    const inputValue = form.elements.news.value;\n\n    API.getNews(inputValue).then(({ articles }) => {\n    if (articles.length === 0) { \n            throw new Error('No data');\n        }\n\n        // console.log(createMarkup(articles[0]));\n\n        return articles.reduce((markup, article) => createMarkup(article) + markup, '');\n    })\n        .then(updateNewsList)\n        .catch(onError)\n        .finally(() => form.reset());\n}\n\nfunction createMarkup({ author, title, description, url, urlToImage }) {\n    return `\n    <div class=\"aricle-card\">\n        <h2 class=\"aricle-title\">${title}</h2>\n        <h3 class=\"aricle-author\">${author || 'Anonym'}</h3>\n        <img src=\"${urlToImage}\" class=\"article-img\">\n        <p class=\"article-description\">${description}</p>\n        <a href=\"${url}\" class=\"article-link\" target=\"_blank\">Read more</a>\n    </div>\n    `;\n}\n\nfunction updateNewsList(markup) {\n    document.getElementById('articlesWrapper').innerHTML = markup;\n}\n\nfunction onError(err) {\n    console.error(err);\n    updateNewsList('<h1>Articles not foude</h1>')\n}"]}